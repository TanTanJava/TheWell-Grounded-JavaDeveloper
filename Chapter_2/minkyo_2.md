# Chapter 2

## 2.1 배경 설명
- 모듈은 런타임에 의미를 가지는 응용 프로그램 배포 및 의존성의 단위이다.
- 모듈의 특징
  - 모듈은 모듈 간의 의존성 정보를 정의하므로 컴파일 또는 애플리케이션 시작 시점에서 모든 종류의 해결과 연결 문제를 감지할 수 있다.
  - 적절한 캡슐화를 제공해서 내부 패키지와 클래스를 조작하려는 사용자로부터 안전하게 보호할 수 있다.
  - 최신 자바 런타임에서 이해하고 사용할 수 있는 메타데이터가 포함된 적절한 배포 단위이며, 자바 타입 시스템에서(ex: 리플렉션) 표현된다.

### 2.1.1 프로젝트 직소
- 모놀리식이 아닌 모듈식 자바 런타임
- 내부의 캡슐화
- 모듈식 JVM
  - 스택 추적이 모듈 이름으로도 구분 가능하게 바뀜

### 2.1.2 모듈 그래프
- 모듈화의 핵심은 모듈이 서로 의존하는 방식을 나타내는 모듈 그래프이다.
- 모듈 그래프는 유향 비순환 그래프여야 하기 때문에 순환 의존성이 있을 수 없다.

### 2.1.3 내부 보호하기
- 모듈이 해결해야할 주요 문제 중 하나로 자바 프레임워크와 내부 구현의 세부 사항이 과도하게 결합돼 있다는 점이다.
- 코드는 내부 클래스에 직접 액세스해서는 안된다.

### 2.1.4 새로운 접근 제어에 대한 의미
- 엑스포트를 통해 내부에서 호출되는 API와 외부에서 호출되는 API에 대해 구분하여 클래스의 공개 메서드가 모든 코드에 자동으로 표현되는 것을 막는다.

## 2.2 기본적인 모듈 구문
```java
module wgjd.discovery {
    exports wgjd.discovery;
    
    requires java.instrument;
    requires java.attach;
    requires java.internal.jvmstat;
}
```
- module은 단순 시작을 의미한다.
- 모듈 이름에 대한 규칙
  - 모듈은 글로벌 네임스페이스에 있다.
  - 모듈 이름은 고유해야 한다.
  - 가능하면 표준적으로 com.company.project를 사용한다.

## 2.5 모듈을 위한 아키텍처
- 당장 모듈로 전환해야하는 필요성은 없다.

## 2.6 모듈을 넘어서
- 모듈의 핵심은 자바 언어에 누락된 추상화, 즉 소스 코드 컴파일러와 런타임에서 신뢰할 수 있고 의존성을 보장하는 배포 단위라는 개념을 도입하는 것이다.
- JLink의 제한 사항
  - 완전히 모듈화된 의존성을 갖는 애플리케이션에서만 작동한다.
  - 비모듈화 코드와는 호환되지 않는다.
  - 자동 모듈만으로는 충분하지 않다.